"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[382],{2382:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=n(5861),a=n(885),c=n(7757),u=n.n(c),s=n(2791),i=n(501),o=n(5562),p=n.n(o),f="Searchbar_form__iqMd-",l="Searchbar_input__GkLZE",v="Searchbar_btn__1mN8X",m=n(184),h=function(t){var e=t.submitValue,n=(0,s.useState)(""),r=(0,a.Z)(n,2),c=r[0],u=r[1],i=function(){u("")};return(0,m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==c?(e(c),i()):p().Notify.warning("Please enter name of the film")},className:f,children:[(0,m.jsx)("label",{children:(0,m.jsx)("input",{className:l,type:"text",value:c,name:"search",onChange:function(t){var e=t.target;u(e.value)}})}),(0,m.jsx)("button",{type:"submit",className:v,children:"Search"})]})},d=n(8304),_=n(9894),x="Movies_list__YgDk6",g="Movies_item__VZWSJ",b="Movies_item_link__Z7u2Q",k="Movies_title__YI2O7",w="Movies_rating__ltwon",y=function(){var t,e=(0,s.useState)([]),n=(0,a.Z)(e,2),c=n[0],o=n[1],f=(0,i.lr)(),l=(0,a.Z)(f,2),v=l[0],y=l[1],j=null!==(t=v.get("query"))&&void 0!==t?t:"";(0,s.useEffect)((function(){var t=function(){var t=(0,r.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.on)(j).then((function(t){var e=t.results;0!==e.length?o(e):p().Report.failure("No result found")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();j&&t()}),[j]);var Z=c.map((function(t){var e=t.poster_path,n=t.original_title,r=t.vote_average,a=t.id;return(0,m.jsx)("li",{className:g,children:(0,m.jsxs)(i.OL,{to:"/Movies/".concat(a),className:b,children:[(0,m.jsx)("img",{src:e?"https://image.tmdb.org/t/p/original/".concat(e):"https://static.vecteezy.com/system/resources/previews/003/393/235/original/error-404-with-the-cute-floppy-disk-mascot-free-vector.jpg",alt:"",height:"300px"}),(0,m.jsx)("p",{className:k,children:n}),(0,m.jsx)("p",{className:w,children:r.toFixed(2)})]})},a)}));return(0,m.jsxs)("div",{children:[0!==c.length&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_.Z,{}),(0,m.jsx)("ul",{className:x,children:Z})]}),0===c.length&&(0,m.jsx)(h,{submitValue:function(t){y({query:t})}})]})}},8304:function(t,e,n){n.d(e,{Hg:function(){return o},TP:function(){return f},on:function(){return p},tx:function(){return v},zv:function(){return l}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569).default,s="c6caf7e5f50b929f8a8910b21b8bfd4f",i="https://api.themoviedb.org/3",o=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("".concat(i,"/trending/movie/day"),{params:{api_key:s,page:e}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("".concat(i,"/search/movie"),{params:{api_key:s,query:e}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("".concat(i,"/movie/").concat(e),{params:{api_key:s}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("".concat(i,"/movie/").concat(e,"/credits"),{params:{api_key:s}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("".concat(i,"/movie/").concat(e,"/reviews"),{params:{api_key:s}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},9894:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(6871),a="Button_btn__RBtNK",c=n(184),u=function(){var t=(0,r.s0)();return(0,c.jsx)("button",{onClick:function(){t(-1,{replase:!0})},className:a,children:"\u21d0 Go back"})}}}]);
//# sourceMappingURL=382.c0888b85.chunk.js.map